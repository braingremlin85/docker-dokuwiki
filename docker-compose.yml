services:
  dokuwiki-alpine:
    container_name: dokuwiki
    image: braingremlin/dokuwiki:latest
    restart: unless-stopped
    networks:
      - npm-bridge
    ports:
      - ${EXTERNAL_PORT:-8888}:80 # EXPORTED port from Dockerfile
    volumes:
      - ${HTML_VOLUME:-html}:/var/www/localhost/htdocs/
      #- ${BACKUP_VOLUME:-backup}:/home/backup
      # if you need to customize php.ini settings
      #- /volume1/docker/dokuwiki/php/php.ini:/usr/local/etc/php/php.ini
    security_opt:
      - no-new-privileges:true
    env_file:
      - stack.env      

networks:
  npm-bridge:
    name: npm_bridge
        
volumes:
  html:
  backup:
